<!doctype html>
<html lang="ru">

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="/favicon.ico" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0" />
  <meta name="theme-color" content="#ffffff" />
  <meta name="description" content="Мавлид на лезгинском языке" />
  <link rel="apple-touch-icon" href="/logo192.png" />
  <link rel="manifest" href="/manifest.json" />
  <title>Мавлид на лезгинском языке</title>
  <script defer="defer" src="/static/js/main.5778e760.js"></script>
  <link href="/static/css/main.e6c13ad2.css" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <script async src="pwacompat.min.js"></script>
  <script defer src="update.js" type="module"></script>
</head>

<body><noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>

  <!-- Модальное окно -->
  <div id="imyModal" class="imodal" style="display: none;">
    <div class="imodal-content">
      <span class="iclose" role="button" aria-label="Close">&times;</span>
      <p>
        Для более комфортного использования установите приложение на ваше устройство.
        Следуйте этим шагам:
      <ol>
        <li>Нажмите кнопку "Поделиться" (иконка с квадратом и стрелкой).</li>
        <li>Выберите опцию "Добавить на главный экран".</li>
        <li>Подтвердите добавление.</li>
      </ol>
      </p>
    </div>
  </div>
  <!-- Модальное окно для iPhone -->
  <script>
    (function () {
      const modal = document.getElementById('imyModal');
      const closeBtn = modal.querySelector('.iclose');

      // Проверка условий для отображения модального окна
      const isInstalled = localStorage.getItem('appInstalled');
      const isInStandaloneMode = window.matchMedia('(display-mode: standalone)').matches;
      const isIphone = /iPhone|iPod/i.test(navigator.userAgent);

      if (!isInstalled && !isInStandaloneMode && isIphone) {
        // Показываем модальное окно
        modal.style.display = 'block';
        localStorage.setItem('appInstalled', 'true');
      }

      // Функция для закрытия модального окна
      function closeModal() {
        modal.style.display = 'none';
      }

      // Обработчик для кнопки закрытия
      closeBtn.addEventListener('click', closeModal);

      // Закрытие при клике вне содержимого модалки
      modal.addEventListener('click', (event) => {
        if (event.target === modal) {
          closeModal();
        }
      });

      // Можно добавить обработчик клавиши Esc для закрытия
      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape' && modal.style.display === 'block') {
          closeModal();
        }
      });
    })();
  </script>
  <!-- Модальное окно для Android -->
  <div id="androidModal" class="imodal" style="display: none;">
    <div class="imodal-content">
      <span class="iclose" role="button" aria-label="Close">&times;</span>
      <p>
        Для более комфортного использования установите это приложение на ваше устройство.
        Следуйте этим шагам:
      </p>
      <ol>
        <li>Нажмите меню браузера (три точки или меню).</li>
        <li>Выберите "Добавить на главный экран".</li>
        <li>Подтвердите добавление.</li>
      </ol>
    </div>
  </div>

  <script>
    (function () {
      const modal = document.getElementById('androidModal');
      const closeBtn = modal.querySelector('.iclose');

      // Проверяем, является ли устройство Android
      const isAndroid = /Android/i.test(navigator.userAgent);
      const isInstalled = localStorage.getItem('appInstalled');

      if (isAndroid && !isInstalled) {
        // Показываем модальное окно для Android
        modal.style.display = 'block';
        localStorage.setItem('appInstalled', 'true');
      }

      // Функция для закрытия модалки
      function closeModal() {
        modal.style.display = 'none';
      }

      closeBtn.addEventListener('click', closeModal);

      // Закрытие при клике вне содержимого
      modal.addEventListener('click', (event) => {
        if (event.target === modal) {
          closeModal();
        }
      });

      // Можно добавить закрытие по клавише Escape, если нужно
      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape' && modal.style.display === 'block') {
          closeModal();
        }
      });
    })();
  </script>

  <script type="text/javascript" src="runtime.js"></script>
  <script type="text/javascript" src="polyfills.js"></script>
  <script type="text/javascript" src="main.js"></script>
</body>

</html>